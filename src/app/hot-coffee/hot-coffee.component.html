
<app-header [cartItems]="cartItems"></app-header>
<div class="container">
  <div class="row mt-5 d-flex justify-content-center">
      <div class="col-sm-10 col-12 col-lg-9">
          <div class="card-container">
              <div class="card"style="background-color: #fcf5ea;"  *ngFor="let product of products" (click)="openDetails(product)">
                  <img [src]="product.image" alt="{{ product.name }}" class="product-image">
                  <div class="product-name">{{ product.name }}</div>
                  <div class="product-price">{{ product.price | currency: 'SAR ' }}</div>
              </div>
          </div>
      </div>
  </div>
</div>


<div class="modal fade" id="detailsModal" tabindex="-1" aria-labelledby="detailsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 400px;">
      <div class="modal-content p-3">
        <div class="modal-header text-center">
          <img [src]="selectedItem?.image" width="200" height="200" class="mb-3 center-image">
        </div>
        <div class="product-details p-3">
          <h5 class="fw-bold">{{ selectedItem?.name }}</h5>
          <p class="text-muted">{{ selectedItem?.price | currency: 'SAR ' }}</p>
          <div class="size-selection mb-3">
            <label class="fw-bold">الحجم</label>

            <div class="sizes d-flex justify-content-center gap-2">
              <button class="btn btn-outline-secondary" 
                      [class.active]="selectedSize === 'وسط'" 
                      (click)="selectSize('وسط')">
                وسط <br> {{ selectedItem?.price | currency: 'SAR ' }}
              </button>
              <button class="btn btn-outline-secondary" 
              [class.active]="selectedSize === 'صغير'" 
              (click)="selectSize('صغير')">
        صغير <br> {{ (selectedItem?.price - 4) | currency: 'SAR ' }}
      </button>
            </div>
          </div>

          <div class="quantity-selection mb-3">
            <label class="fw-bold">الكمية</label>
            <div class="d-flex justify-content-center align-items-center gap-2">
              <button class="btn btn-outline-secondary" (click)="decreaseQuantity()">-</button>
              <span class="fw-bold">{{ quantity }}</span>
              <button class="btn btn-outline-secondary" (click)="increaseQuantity()">+</button>
            </div>
          </div>

          <div class="button-container">
            <button class="btn custom-btn w-100" (click)="increment(); addToCart(selectedItem,quantity)">
              أضف إلى السلة 
            </button>
            <button class="btn custom-btn" data-bs-dismiss="modal">إغلاق</button>
          </div>
        </div>
      </div>
    </div>
  </div>
      
      <app-footer></app-footer>




